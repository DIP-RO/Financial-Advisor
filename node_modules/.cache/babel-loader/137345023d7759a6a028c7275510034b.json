{"ast":null,"code":"var _jsxFileName = \"F:\\\\sunshine-full-project\\\\AI-finance-portfolio\\\\src\\\\Components\\\\Dashboard\\\\AllRooms.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport ServiceCard from '../Services/ServiceCard';\nimport Service from '../Services/Service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AllRooms = () => {\n  _s();\n\n  const [services, setServices] = useState([]);\n  useEffect(() => {\n    fetch('http://localhost:5000/services').then(res => res.json()).then(data => setServices(data.service));\n  }, [services]);\n\n  const handleForm = e => {\n    e.preventDefault();\n    const form = e.target;\n    const name = form.title.value;\n    const price = form.price.value;\n    const image = form.url.value;\n    const capacity = form.capacity.value;\n    const des = form.des.value;\n    const serviceDetails = {\n      name,\n      price,\n      image,\n      capacity,\n      des\n    };\n    console.log(serviceDetails);\n    fetch('http://localhost:5000/service', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(serviceDetails)\n    }).then(res => res.json()).then(data => {\n      if (data.acknowledged) {\n        toast.success('Room Added Success Fully');\n        form.reset();\n      }\n    });\n  };\n\n  const handleDelele = room => {\n    const agree = window.confirm('Are You sure You want to delete');\n    console.log(room._id);\n\n    if (agree) {\n      fetch(`http://localhost:5000/room/${room._id}`, {\n        method: 'DELETE'\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n\n        if (data.deletedCount >= 0) {\n          toast.error('Room Deleted Success Fully');\n          const remainingUser = services.filter(us => us._id !== room._id);\n          setServices(remainingUser);\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center my-4 text-3xl font-bold\",\n      children: [\"Rooms:\", rooms.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-40\",\n      children: services.map(room => /*#__PURE__*/_jsxDEV(ServiceCard, {\n        room: room,\n        handleDelele: handleDelele\n      }, Service._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 42\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AllRooms, \"6zIv7VYIWrxuvR7GDZce08FfVgw=\");\n\n_c = AllRooms;\nexport default AllRooms;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllRooms\");","map":{"version":3,"names":["React","useEffect","useState","toast","ServiceCard","Service","AllRooms","services","setServices","fetch","then","res","json","data","service","handleForm","e","preventDefault","form","target","name","title","value","price","image","url","capacity","des","serviceDetails","console","log","method","headers","body","JSON","stringify","acknowledged","success","reset","handleDelele","room","agree","window","confirm","_id","deletedCount","error","remainingUser","filter","us","rooms","length","map"],"sources":["F:/sunshine-full-project/AI-finance-portfolio/src/Components/Dashboard/AllRooms.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport ServiceCard from '../Services/ServiceCard';\nimport Service from '../Services/Service';\n\n\nconst AllRooms = () => {\n\n    const [services, setServices] = useState([])\n\n    useEffect(() => {\n        fetch('http://localhost:5000/services')\n            .then(res => res.json())\n            .then(data => setServices(data.service))\n    }, [services])\n\n    const handleForm = e => {\n        e.preventDefault()\n        const form = e.target;\n        const name = form.title.value;\n        const price = form.price.value;\n        const image = form.url.value;\n        const capacity = form.capacity.value;\n        const des = form.des.value;\n\n        const serviceDetails = {\n            name,\n            price,\n            image,\n            capacity,\n            des\n        }\n        console.log(serviceDetails);\n\n        fetch('http://localhost:5000/service', {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(serviceDetails)\n        })\n            .then(res => res.json())\n            .then(data => {\n                if (data.acknowledged) {\n                    toast.success('Room Added Success Fully')\n                    form.reset()\n                }\n            })\n\n    }\n\n\n    const handleDelele = (room) => {\n        const agree = window.confirm('Are You sure You want to delete')\n        console.log(room._id);\n        if (agree) {\n            fetch(`http://localhost:5000/room/${room._id}`, {\n                method: 'DELETE',\n            })\n                .then(res => res.json())\n                .then(data => {\n                    console.log(data);\n                    if (data.deletedCount >= 0) {\n                        toast.error('Room Deleted Success Fully')\n                        const remainingUser = services\n                            .filter(us => us._id !== room._id)\n                        setServices(remainingUser)\n                    }\n                })\n        }\n\n    }\n\n\n    return (\n        <div className='h-screen w-full'>\n            <h1 className='text-center my-4 text-3xl font-bold'>Rooms:{rooms.length}</h1>\n            <div className='px-40'>\n                {\n                    services.map(room => <ServiceCard\n                        key={Service._id}\n                        room={room}\n                        handleDelele={handleDelele}\n                    ></ServiceCard>)\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default AllRooms;"],"mappings":"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"},"metadata":{},"sourceType":"module"}