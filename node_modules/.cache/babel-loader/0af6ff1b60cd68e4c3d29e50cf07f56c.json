{"ast":null,"code":"import _slicedToArray from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useContext}from'react';import{Navigate,useLocation}from'react-router-dom';import{SyncLoader}from'react-spinners';import{AuthContext}from'../Context/AuthContext/UserContext';import useAdmin from'../Hooks/useAdmin';import{jsx as _jsx}from\"react/jsx-runtime\";var AdminRoute=function AdminRoute(_ref){var children=_ref.children;var _useContext=useContext(AuthContext),user=_useContext.user,loading=_useContext.loading;var _useAdmin=useAdmin(user===null||user===void 0?void 0:user.email),_useAdmin2=_slicedToArray(_useAdmin,2),isAdmin=_useAdmin2[0],isAdminLoading=_useAdmin2[1];var location=useLocation();if(loading||isAdminLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center m-80\",children:/*#__PURE__*/_jsx(SyncLoader,{color:\"hsla(86, 0%, 100%, 1)\",size:15})});}if(user&&user.uid&&isAdmin){return children;}return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",state:{from:location},replace:true});};export default AdminRoute;","map":{"version":3,"names":["React","useContext","Navigate","useLocation","SyncLoader","AuthContext","useAdmin","AdminRoute","children","user","loading","email","isAdmin","isAdminLoading","location","uid","from"],"sources":["F:/sunshine-full-project/agustine-hotel--main/src/Routes/AdminRoute.js"],"sourcesContent":["import React from 'react';\nimport { useContext } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { SyncLoader } from 'react-spinners';\nimport { AuthContext } from '../Context/AuthContext/UserContext';\nimport useAdmin from '../Hooks/useAdmin';\n\n\n\nconst AdminRoute = ({ children }) => {\n    const { user, loading } = useContext(AuthContext)\n  const [isAdmin,isAdminLoading]  = useAdmin(user?.email)\n    const location = useLocation()\n\n    if (loading || isAdminLoading) {\n\n        return <div className='flex justify-center m-80'><SyncLoader\n            color=\"hsla(86, 0%, 100%, 1)\"\n            size={15}\n        /></div>\n\n    }\n\n\n    if (user && user.uid && isAdmin) {\n        return children\n    }\n    return <Navigate to='/login' state={{ from: location }} replace></Navigate>\n};\n\nexport default AdminRoute;"],"mappings":"mIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,kBAAtC,CACA,OAASC,UAAT,KAA2B,gBAA3B,CACA,OAASC,WAAT,KAA4B,oCAA5B,CACA,MAAOC,SAAP,KAAqB,mBAArB,C,2CAIA,GAAMC,WAAU,CAAG,QAAbA,WAAa,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CACjC,gBAA0BP,UAAU,CAACI,WAAD,CAApC,CAAQI,IAAR,aAAQA,IAAR,CAAcC,OAAd,aAAcA,OAAd,CACF,cAAkCJ,QAAQ,CAACG,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEE,KAAP,CAA1C,wCAAOC,OAAP,eAAeC,cAAf,eACE,GAAMC,SAAQ,CAAGX,WAAW,EAA5B,CAEA,GAAIO,OAAO,EAAIG,cAAf,CAA+B,CAE3B,mBAAO,YAAK,SAAS,CAAC,0BAAf,uBAA0C,KAAC,UAAD,EAC7C,KAAK,CAAC,uBADuC,CAE7C,IAAI,CAAE,EAFuC,EAA1C,EAAP,CAKH,CAGD,GAAIJ,IAAI,EAAIA,IAAI,CAACM,GAAb,EAAoBH,OAAxB,CAAiC,CAC7B,MAAOJ,SAAP,CACH,CACD,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,CAAsB,KAAK,CAAE,CAAEQ,IAAI,CAAEF,QAAR,CAA7B,CAAiD,OAAO,KAAxD,EAAP,CACH,CAnBD,CAqBA,cAAeP,WAAf"},"metadata":{},"sourceType":"module"}