{"ast":null,"code":"import _slicedToArray from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{useContext}from\"react\";import toast from\"react-hot-toast\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import{PropagateLoader}from\"react-spinners\";import{AuthContext}from\"../../Context/AuthContext/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RegisterPage=function RegisterPage(){var _location$state,_location$state$from;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),animation=_useState2[0],setAnimation=_useState2[1];var _useContext=useContext(AuthContext),signUp=_useContext.signUp,updateUser=_useContext.updateUser;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var location=useLocation();var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||\"/\";var navigate=useNavigate();var handleSubmit=function handleSubmit(e){e.preventDefault();var form=e.target;var name=form.name.value;var email=form.email.value;var password=form.password.value;signUp(email,password).then(function(result){var user=result.user;form.reset();toast.success(\"Register SuccessFully\");console.log(\"ðŸš€ ~ file: RegisterPage.js ~ line 21 ~ handleSubmit ~ user\",user);setAnimation(true);var userInfo={displayName:name};updateUser(userInfo).then(function(){saveUser(name,email);}).catch(function(err){return console.log(err);});}).catch(function(error){console.log(\"error\",error);setError(error.message);});console.log(email,password);};var saveUser=function saveUser(name,email){console.log(name,email);var user={name:name,email:email};fetch(\"https://hotel-web-server.vercel.app/user/\".concat(email),{method:\"PUT\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(user)}).then(function(res){return res.json();}).then(function(data){if(data.status===\"success\"){console.log(data);localStorage.setItem(\"Radission BluToken\",data.data);setTimeout(function(){navigate(from,{replace:true});},300);}});};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center bg-slate-900\",children:animation?/*#__PURE__*/_jsx(\"div\",{className:\"h-[600px] flex justify-center items-center\",children:/*#__PURE__*/_jsx(PropagateLoader,{color:\"#ffffff\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 space-y-3 shadow-lg my-10 rounded-xl bg-gray-800 text-gray-100\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-center\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,noValidate:\"\",action:\"\",className:\"space-y-6 ng-untouched ng-pristine ng-valid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-gray-400\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"username\",placeholder:\"Name\",className:\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-gray-400\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",id:\"username\",placeholder:\"Email\",className:\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-gray-400\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Password\",className:\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"block w-full p-3 text-center rounded-sm text-white font-semibold bg-violet-600\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-center sm:px-6 text-gray-400\",children:[\"Already Have an Account?\",/*#__PURE__*/_jsx(Link,{rel:\"noopener noreferrer\",to:\"/login\",className:\"underline text-gray-100\",children:\"Sign In\"})]})]})})});};export default RegisterPage;","map":{"version":3,"names":["React","useState","useContext","toast","Link","useLocation","useNavigate","PropagateLoader","AuthContext","RegisterPage","animation","setAnimation","signUp","updateUser","error","setError","location","from","state","pathname","navigate","handleSubmit","e","preventDefault","form","target","name","value","email","password","then","result","user","reset","success","console","log","userInfo","displayName","saveUser","catch","err","message","fetch","method","headers","body","JSON","stringify","res","json","data","status","localStorage","setItem","setTimeout","replace"],"sources":["F:/sunshine-full-project/agustine-hotel--main/src/Components/RegisterPage/RegisterPage.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useContext } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { PropagateLoader } from \"react-spinners\";\nimport { AuthContext } from \"../../Context/AuthContext/UserContext\";\n\nconst RegisterPage = () => {\n  const [animation, setAnimation] = useState(false);\n  const { signUp, updateUser } = useContext(AuthContext);\n  const [error, setError] = useState(\"\");\n\n  const location = useLocation();\n  const from = location.state?.from?.pathname || \"/\";\n  const navigate = useNavigate();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const form = e.target;\n    const name = form.name.value;\n    const email = form.email.value;\n    const password = form.password.value;\n\n    signUp(email, password)\n      .then((result) => {\n        const user = result.user;\n        form.reset();\n        toast.success(\"Register SuccessFully\");\n        console.log(\n          \"ðŸš€ ~ file: RegisterPage.js ~ line 21 ~ handleSubmit ~ user\",\n          user\n        );\n        setAnimation(true);\n        const userInfo = {\n          displayName: name,\n        };\n        updateUser(userInfo)\n          .then(() => {\n            saveUser(name, email);\n          })\n          .catch((err) => console.log(err));\n      })\n      .catch((error) => {\n        console.log(\"error\", error);\n        setError(error.message);\n      });\n\n    console.log(email, password);\n  };\n\n  const saveUser = (name, email) => {\n    console.log(name, email);\n    const user = {\n      name,\n      email,\n    };\n    fetch(`https://hotel-web-server.vercel.app/user/${email}`, {\n      method: \"PUT\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(user),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.status === \"success\") {\n          console.log(data);\n          localStorage.setItem(\"Radission BluToken\", data.data);\n          setTimeout(() => {\n            navigate(from, { replace: true });\n          }, 300);\n        }\n      });\n  };\n\n  return (\n    <div className=\"flex justify-center bg-slate-900\">\n      {animation ? (\n        <div className=\"h-[600px] flex justify-center items-center\">\n          <PropagateLoader color=\"#ffffff\" />\n        </div>\n      ) : (\n        <>\n          <div className=\"w-full max-w-md p-8 space-y-3 shadow-lg my-10 rounded-xl bg-gray-800 text-gray-100\">\n            <h1 className=\"text-2xl font-bold text-center\">Register</h1>\n            <form\n              onSubmit={handleSubmit}\n              noValidate=\"\"\n              action=\"\"\n              className=\"space-y-6 ng-untouched ng-pristine ng-valid\"\n            >\n              <div className=\"space-y-1 text-sm\">\n                <label htmlFor=\"email\" className=\"block text-gray-400\">\n                  Name\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  id=\"username\"\n                  placeholder=\"Name\"\n                  className=\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"\n                />\n              </div>\n\n              <div className=\"space-y-1 text-sm\">\n                <label htmlFor=\"email\" className=\"block text-gray-400\">\n                  Email\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"email\"\n                  id=\"username\"\n                  placeholder=\"Email\"\n                  className=\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"\n                />\n              </div>\n              <div className=\"space-y-1 text-sm\">\n                <label htmlFor=\"password\" className=\"block text-gray-400\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  id=\"password\"\n                  placeholder=\"Password\"\n                  className=\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"\n                />\n              </div>\n              <p className=\"text-red-500\">{error}</p>\n              <button\n                type=\"submit\"\n                className=\"block w-full p-3 text-center rounded-sm text-white font-semibold bg-violet-600\"\n              >\n                Register\n              </button>\n            </form>\n\n            <p className=\"text-xs text-center sm:px-6 text-gray-400\">\n              Already Have an Account?\n              <Link\n                rel=\"noopener noreferrer\"\n                to=\"/login\"\n                className=\"underline text-gray-100\"\n              >\n                Sign In\n              </Link>\n            </p>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default RegisterPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}