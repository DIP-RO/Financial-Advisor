{"ast":null,"code":"import _toConsumableArray from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useQuery}from\"@tanstack/react-query\";import React from\"react\";import{useState}from\"react\";import{ScrollRestoration}from\"react-router-dom\";import LoadingAnimation from\"../Shared/LoadingAnimation/LoadingAnimation\";import RoomCard from\"../Shared/RoomCard/RoomCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Rooms=function Rooms(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),roosms=_useState2[0],setRooms=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(6),_useState6=_slicedToArray(_useState5,2),size=_useState6[0],setSize=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var pages=Math.ceil(count/size);var _useQuery=useQuery({queryKey:[\"rooms\",\"count\",page,size],queryFn:function(){var _queryFn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://hotel-web-server.vercel.app/room?page=\".concat(page,\"&size=\").concat(size));case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;setCount(data.count);setRooms(data.rooms);return _context.abrupt(\"return\",data);case 9:case\"end\":return _context.stop();}}},_callee);}));function queryFn(){return _queryFn.apply(this,arguments);}return queryFn;}()}),AllData=_useQuery.data,isLoading=_useQuery.isLoading;if(isLoading){return/*#__PURE__*/_jsx(LoadingAnimation,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\" from-slate-900 bg-slate-900\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl text-center text-gray-300 font-bold py-10\",children:[\"Our Best Rooms\",\" \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 mt-9 md:grid-cols-3 pb-10 gap-5 justify-items-center z-0 md:px-20\",children:roosms===null||roosms===void 0?void 0:roosms.map(function(room){return/*#__PURE__*/_jsx(RoomCard,{room:room},room._id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center font-semibold  m-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:_toConsumableArray(Array(pages).keys()).map(function(number){return/*#__PURE__*/_jsx(\"button\",{className:\"mr-2 w-6 h-6 \".concat(page===number&&\"bg-slate-100 text-slate-900\"),onClick:function onClick(){return setPage(number);},children:number+1},number);})})})]}),/*#__PURE__*/_jsx(ScrollRestoration,{})]});};export default Rooms;","map":{"version":3,"names":["useQuery","React","useState","ScrollRestoration","LoadingAnimation","RoomCard","Rooms","roosms","setRooms","count","setCount","size","setSize","page","setPage","pages","Math","ceil","queryKey","queryFn","fetch","res","json","data","rooms","AllData","isLoading","map","room","_id","Array","keys","number"],"sources":["F:/sunshine-full-project/agustine-hotel--main/src/Components/Rooms/Rooms.js"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { ScrollRestoration } from \"react-router-dom\";\nimport LoadingAnimation from \"../Shared/LoadingAnimation/LoadingAnimation\";\nimport RoomCard from \"../Shared/RoomCard/RoomCard\";\n\nconst Rooms = () => {\n  const [roosms, setRooms] = useState([]);\n  const [count, setCount] = useState(10);\n\n  const [size, setSize] = useState(6);\n  const [page, setPage] = useState(0);\n\n  const pages = Math.ceil(count / size);\n\n  const { data: AllData, isLoading } = useQuery({\n    queryKey: [\"rooms\", \"count\", page, size],\n    queryFn: async () => {\n      const res = await fetch(\n        `https://hotel-web-server.vercel.app/room?page=${page}&size=${size}`\n      );\n      const data = await res.json();\n      setCount(data.count);\n      setRooms(data.rooms);\n      return data;\n    },\n  });\n\n  if (isLoading) {\n    return <LoadingAnimation></LoadingAnimation>;\n  }\n\n  return (\n    <div className=\" from-slate-900 bg-slate-900\">\n      <h1 className=\"text-4xl text-center text-gray-300 font-bold py-10\">\n        Our Best Rooms{\" \"}\n      </h1>\n      <div>\n        <div className=\"grid grid-cols-1 mt-9 md:grid-cols-3 pb-10 gap-5 justify-items-center z-0 md:px-20\">\n          {roosms?.map((room) => (\n            <RoomCard key={room._id} room={room}></RoomCard>\n          ))}\n        </div>\n\n        <div className=\"text-center font-semibold  m-5\">\n          <div className=\"my-2\">\n            {[...Array(pages).keys()].map((number) => (\n              <button\n                key={number}\n                className={`mr-2 w-6 h-6 ${\n                  page === number && \"bg-slate-100 text-slate-900\"\n                }`}\n                onClick={() => setPage(number)}\n              >\n                {number + 1}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n      <ScrollRestoration></ScrollRestoration>\n    </div>\n  );\n};\n\nexport default Rooms;\n"],"mappings":"oiBAAA,OAASA,QAAT,KAAyB,uBAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,iBAAT,KAAkC,kBAAlC,CACA,MAAOC,iBAAP,KAA6B,6CAA7B,CACA,MAAOC,SAAP,KAAqB,6BAArB,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,cAA2BJ,QAAQ,CAAC,EAAD,CAAnC,wCAAOK,MAAP,eAAeC,QAAf,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eAEA,eAAwBR,QAAQ,CAAC,CAAD,CAAhC,yCAAOS,IAAP,eAAaC,OAAb,eACA,eAAwBV,QAAQ,CAAC,CAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eAEA,GAAMC,MAAK,CAAGC,IAAI,CAACC,IAAL,CAAUR,KAAK,CAAGE,IAAlB,CAAd,CAEA,cAAqCX,QAAQ,CAAC,CAC5CkB,QAAQ,CAAE,CAAC,OAAD,CAAU,OAAV,CAAmBL,IAAnB,CAAyBF,IAAzB,CADkC,CAE5CQ,OAAO,mFAAE,wKACWC,MAAK,yDAC4BP,IAD5B,kBACyCF,IADzC,EADhB,QACDU,GADC,qCAIYA,IAAG,CAACC,IAAJ,EAJZ,QAIDC,IAJC,eAKPb,QAAQ,CAACa,IAAI,CAACd,KAAN,CAAR,CACAD,QAAQ,CAACe,IAAI,CAACC,KAAN,CAAR,CANO,gCAOAD,IAPA,wDAAF,+EAFqC,CAAD,CAA7C,CAAcE,OAAd,WAAQF,IAAR,CAAuBG,SAAvB,WAAuBA,SAAvB,CAaA,GAAIA,SAAJ,CAAe,CACb,mBAAO,KAAC,gBAAD,IAAP,CACD,CAED,mBACE,aAAK,SAAS,CAAC,8BAAf,wBACE,YAAI,SAAS,CAAC,oDAAd,4BACiB,GADjB,GADF,cAIE,oCACE,YAAK,SAAS,CAAC,oFAAf,UACGnB,MADH,SACGA,MADH,iBACGA,MAAM,CAAEoB,GAAR,CAAY,SAACC,IAAD,qBACX,KAAC,QAAD,EAAyB,IAAI,CAAEA,IAA/B,EAAeA,IAAI,CAACC,GAApB,CADW,EAAZ,CADH,EADF,cAOE,YAAK,SAAS,CAAC,gCAAf,uBACE,YAAK,SAAS,CAAC,MAAf,UACG,mBAAIC,KAAK,CAACf,KAAD,CAAL,CAAagB,IAAb,EAAJ,EAAyBJ,GAAzB,CAA6B,SAACK,MAAD,qBAC5B,eAEE,SAAS,wBACPnB,IAAI,GAAKmB,MAAT,EAAmB,6BADZ,CAFX,CAKE,OAAO,CAAE,yBAAMlB,QAAO,CAACkB,MAAD,CAAb,EALX,UAOGA,MAAM,CAAG,CAPZ,EACOA,MADP,CAD4B,EAA7B,CADH,EADF,EAPF,GAJF,cA2BE,KAAC,iBAAD,IA3BF,GADF,CA+BD,CAzDD,CA2DA,cAAe1B,MAAf"},"metadata":{},"sourceType":"module"}