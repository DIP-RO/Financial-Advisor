{"ast":null,"code":"import _slicedToArray from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{useEffect}from'react';import toast from'react-hot-toast';import RoomSmallCard from'./RoomCard/RoomSmallCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Admin=function Admin(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];useEffect(function(){fetch('https://hotel-web-server.vercel.app/room').then(function(res){return res.json();}).then(function(data){return setRooms(data.rooms);});},[rooms]);var handleForm=function handleForm(e){e.preventDefault();var form=e.target;var name=form.title.value;var price=form.price.value;var image=form.url.value;var capacity=form.capacity.value;var des=form.des.value;var roomDetails={name:name,price:price,image:image,capacity:capacity,des:des};console.log(roomDetails);fetch('https://hotel-web-server.vercel.app/room',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(roomDetails)}).then(function(res){return res.json();}).then(function(data){if(data.acknowledged){toast.success('Room Added Success Fully');form.reset();}});};var handleDelele=function handleDelele(room){var agree=window.confirm('Are You sure You want to delete');console.log(room._id);if(agree){fetch(\"https://hotel-web-server.vercel.app/room/\".concat(room._id),{method:'DELETE'}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.deletedCount>=0){toast.error('Room Deleted Success Fully');var remainingUser=rooms.filter(function(us){return us._id!==room._id;});setRooms(remainingUser);}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center py-4\",children:\"Admin Panel\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 px-20\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center my-4 text-3xl font-bold\",children:[\"Rooms:\",rooms.length]}),/*#__PURE__*/_jsx(\"div\",{children:rooms.map(function(room){return/*#__PURE__*/_jsx(RoomSmallCard,{room:room,handleDelele:handleDelele},room._id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-20\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-3xl my-4 font-bold\",children:\"Add a new Room\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleForm,className:\"p-30 flex flex-col  bg-slate-900  \",children:[/*#__PURE__*/_jsx(\"input\",{name:\"title\",id:\"username\",type:\"text\",placeholder:\"Room Title\",className:\"flex items-center h-12 px-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"des\",id:\"username\",type:\"text\",placeholder:\"Room Details\",className:\"flex items-center h-24 p-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\"}),/*#__PURE__*/_jsx(\"input\",{name:\"price\",id:\"username\",type:\"number\",placeholder:\"Room Price\",className:\"flex items-center h-12 px-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\"}),/*#__PURE__*/_jsx(\"input\",{name:\"capacity\",id:\"username\",type:\"text\",placeholder:\"Room Capcity\",className:\"flex items-center h-12 px-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\"}),/*#__PURE__*/_jsx(\"input\",{name:\"url\",id:\"username\",type:\"text\",placeholder:\"Room Photo URL\",className:\"flex items-center h-12 px-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-8 py-3 my-4 font-semibold rounded bg-gray-400 text-gray-800\",children:\"Upload\"})]})]})]})]});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","toast","RoomSmallCard","Admin","rooms","setRooms","fetch","then","res","json","data","handleForm","e","preventDefault","form","target","name","title","value","price","image","url","capacity","des","roomDetails","console","log","method","headers","body","JSON","stringify","acknowledged","success","reset","handleDelele","room","agree","window","confirm","_id","deletedCount","error","remainingUser","filter","us","length","map"],"sources":["F:/sunshine-full-project/agustine-hotel--main/src/Components/Admin/Admin.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport toast from 'react-hot-toast';\nimport RoomSmallCard from './RoomCard/RoomSmallCard';\n\nconst Admin = () => {\n\n    const [rooms, setRooms] = useState([])\n\n    useEffect(() => {\n        fetch('https://hotel-web-server.vercel.app/room')\n            .then(res => res.json())\n            .then(data => setRooms(data.rooms))\n    }, [rooms])\n\n    const handleForm = e => {\n        e.preventDefault()\n        const form = e.target;\n        const name = form.title.value;\n        const price = form.price.value;\n        const image = form.url.value;\n        const capacity = form.capacity.value;\n        const des = form.des.value;\n\n        const roomDetails = {\n            name,\n            price,\n            image,\n            capacity,\n            des\n        }\n        console.log(roomDetails);\n\n        fetch('https://hotel-web-server.vercel.app/room', {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(roomDetails)\n        })\n            .then(res => res.json())\n            .then(data => {\n                if (data.acknowledged) {\n                    toast.success('Room Added Success Fully')\n                    form.reset()\n                }\n            })\n\n    }\n\n\n    const handleDelele = (room) => {\n        const agree = window.confirm('Are You sure You want to delete')\n        console.log(room._id);\n        if (agree) {\n            fetch(`https://hotel-web-server.vercel.app/room/${room._id}`, {\n                method: 'DELETE',\n            })\n                .then(res => res.json())\n                .then(data => {\n                    console.log(data);\n                    if (data.deletedCount >= 0) {\n                        toast.error('Room Deleted Success Fully')\n                        const remainingUser = rooms\n                            .filter(us => us._id !== room._id)\n                        setRooms(remainingUser)\n                    }\n                })\n        }\n\n    }\n\n\n\n\n\n    return (\n        <div className='bg-slate-900 '>\n            <h1 className='text-4xl font-bold text-center py-4'>Admin Panel</h1>\n            <div className='grid grid-cols-1 md:grid-cols-2 px-20'>\n                <div>\n\n                    <h1 className='text-center my-4 text-3xl font-bold'>Rooms:{rooms.length}</h1>\n                    <div>\n                        {\n                            rooms.map(room => <RoomSmallCard\n                                key={room._id}\n                                room={room}\n                                handleDelele={handleDelele}\n                            ></RoomSmallCard>)\n                        }\n                    </div>\n                </div>\n                <div className='px-20'>\n                    <h1 className='text-center text-3xl my-4 font-bold'>Add a new Room</h1>\n                    <form onSubmit={handleForm} className='p-30 flex flex-col  bg-slate-900  '>\n                        <input name='title' id=\"username\" type=\"text\" placeholder='Room Title' className=\"flex items-center h-12 px-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\" />\n                        <textarea name='des' id=\"username\" type=\"text\" placeholder='Room Details' className=\"flex items-center h-24 p-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\" />\n                        <input name='price' id=\"username\" type=\"number\" placeholder='Room Price' className=\"flex items-center h-12 px-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\" />\n                        <input name='capacity' id=\"username\" type=\"text\" placeholder='Room Capcity' className=\"flex items-center h-12 px-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\" />\n                        <input name='url' id=\"username\" type=\"text\" placeholder='Room Photo URL' className=\"flex items-center h-12 px-4 mt-2 rounded focus:outline-none focus:ring-2 text-gray-900 focus:border-violet-400 focus:ring-violet-400\" />\n                        <button type=\"submit\" className=\"px-8 py-3 my-4 font-semibold rounded bg-gray-400 text-gray-800\">Upload</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Admin;"],"mappings":"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"},"metadata":{},"sourceType":"module"}