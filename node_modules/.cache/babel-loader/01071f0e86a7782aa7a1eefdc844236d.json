{"ast":null,"code":"import _slicedToArray from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{createContext}from'react';import{createUserWithEmailAndPassword,getAuth,GoogleAuthProvider,onAuthStateChanged,signInWithEmailAndPassword,signInWithPopup,signOut,updateProfile}from'firebase/auth';import app from'../../Firebase/firebase.init';import{useState}from'react';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();var UserContext=function UserContext(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setuser=_useState2[1];var auth=getAuth(app);var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),roomDetails=_useState4[0],setRoomDetails=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var googleProvider=new GoogleAuthProvider();var signUp=function signUp(email,password){setLoading(true);return createUserWithEmailAndPassword(auth,email,password);};var googleSginIn=function googleSginIn(){setLoading(true);return signInWithPopup(auth,googleProvider);};var updateUser=function updateUser(userInfo){setLoading(true);return updateProfile(auth.currentUser,userInfo);};var signIn=function signIn(email,password){setLoading(false);return signInWithEmailAndPassword(auth,email,password);};useEffect(function(){var unsubscribe=onAuthStateChanged(auth,function(currentUser){setuser(currentUser);setLoading(false);});return function(){return unsubscribe();};},[auth]);var logOut=function logOut(){setLoading(true);return signOut(auth);};var authInfo={user:user,signUp:signUp,loading:loading,updateUser:updateUser,logOut:logOut,googleSginIn:googleSginIn,signIn:signIn,setRoomDetails:setRoomDetails,roomDetails:roomDetails};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:authInfo,children:children});};export default UserContext;","map":{"version":3,"names":["React","createContext","createUserWithEmailAndPassword","getAuth","GoogleAuthProvider","onAuthStateChanged","signInWithEmailAndPassword","signInWithPopup","signOut","updateProfile","app","useState","useEffect","AuthContext","UserContext","children","user","setuser","auth","roomDetails","setRoomDetails","loading","setLoading","googleProvider","signUp","email","password","googleSginIn","updateUser","userInfo","currentUser","signIn","unsubscribe","logOut","authInfo"],"sources":["F:/sunshine-full-project/agustine-hotel--main/src/Context/AuthContext/UserContext.js"],"sourcesContent":["import React from 'react';\nimport { createContext } from 'react';\nimport { createUserWithEmailAndPassword, getAuth, GoogleAuthProvider, onAuthStateChanged, signInWithEmailAndPassword, signInWithPopup, signOut, updateProfile } from 'firebase/auth'\nimport app from '../../Firebase/firebase.init';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\n\nexport const AuthContext = createContext()\n\nconst UserContext = ({ children }) => {\n    const [user, setuser] = useState(null)\n    const auth = getAuth(app)\n    const [roomDetails, setRoomDetails] = useState('')\n    const [loading, setLoading] = useState(true)\n\n\n    const googleProvider = new GoogleAuthProvider();\n\n    const signUp = (email, password) => {\n        setLoading(true)\n        return createUserWithEmailAndPassword(auth, email, password)\n    }\n\n    const googleSginIn = () => {\n        setLoading(true)\n        return signInWithPopup(auth, googleProvider)\n\n    }\n\n    const updateUser = (userInfo) =>{\n        setLoading(true)\n        return updateProfile(auth.currentUser, userInfo);\n    }\n    const signIn = (email, password) => {\n        setLoading(false)\n        return signInWithEmailAndPassword(auth, email, password)\n    }\n\n    useEffect(() => {\n\n        const unsubscribe = onAuthStateChanged(auth, currentUser => {\n\n            setuser(currentUser)\n            setLoading(false)\n        })\n\n        return () => unsubscribe()\n\n    }, [auth])\n\n\n    const logOut = () => {\n        setLoading(true)\n        return signOut(auth)\n    }\n\n    const authInfo = {\n        user,\n        signUp,\n        loading,\n        updateUser,\n        logOut,\n        googleSginIn,\n        signIn,\n        setRoomDetails,\n        roomDetails\n    }\n    return (\n        <AuthContext.Provider value={authInfo}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport default UserContext;"],"mappings":"mIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,KAA8B,OAA9B,CACA,OAASC,8BAAT,CAAyCC,OAAzC,CAAkDC,kBAAlD,CAAsEC,kBAAtE,CAA0FC,0BAA1F,CAAsHC,eAAtH,CAAuIC,OAAvI,CAAgJC,aAAhJ,KAAqK,eAArK,CACA,MAAOC,IAAP,KAAgB,8BAAhB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,KAA0B,OAA1B,C,2CAEA,MAAO,IAAMC,YAAW,cAAGZ,aAAa,EAAjC,CAEP,GAAMa,YAAW,CAAG,QAAdA,YAAc,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAClC,cAAwBJ,QAAQ,CAAC,IAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,GAAMC,KAAI,CAAGf,OAAO,CAACO,GAAD,CAApB,CACA,eAAsCC,QAAQ,CAAC,EAAD,CAA9C,yCAAOQ,WAAP,eAAoBC,cAApB,eACA,eAA8BT,QAAQ,CAAC,IAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eAGA,GAAMC,eAAc,CAAG,GAAInB,mBAAJ,EAAvB,CAEA,GAAMoB,OAAM,CAAG,QAATA,OAAS,CAACC,KAAD,CAAQC,QAAR,CAAqB,CAChCJ,UAAU,CAAC,IAAD,CAAV,CACA,MAAOpB,+BAA8B,CAACgB,IAAD,CAAOO,KAAP,CAAcC,QAAd,CAArC,CACH,CAHD,CAKA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvBL,UAAU,CAAC,IAAD,CAAV,CACA,MAAOf,gBAAe,CAACW,IAAD,CAAOK,cAAP,CAAtB,CAEH,CAJD,CAMA,GAAMK,WAAU,CAAG,QAAbA,WAAa,CAACC,QAAD,CAAa,CAC5BP,UAAU,CAAC,IAAD,CAAV,CACA,MAAOb,cAAa,CAACS,IAAI,CAACY,WAAN,CAAmBD,QAAnB,CAApB,CACH,CAHD,CAIA,GAAME,OAAM,CAAG,QAATA,OAAS,CAACN,KAAD,CAAQC,QAAR,CAAqB,CAChCJ,UAAU,CAAC,KAAD,CAAV,CACA,MAAOhB,2BAA0B,CAACY,IAAD,CAAOO,KAAP,CAAcC,QAAd,CAAjC,CACH,CAHD,CAKAd,SAAS,CAAC,UAAM,CAEZ,GAAMoB,YAAW,CAAG3B,kBAAkB,CAACa,IAAD,CAAO,SAAAY,WAAW,CAAI,CAExDb,OAAO,CAACa,WAAD,CAAP,CACAR,UAAU,CAAC,KAAD,CAAV,CACH,CAJqC,CAAtC,CAMA,MAAO,kBAAMU,YAAW,EAAjB,EAAP,CAEH,CAVQ,CAUN,CAACd,IAAD,CAVM,CAAT,CAaA,GAAMe,OAAM,CAAG,QAATA,OAAS,EAAM,CACjBX,UAAU,CAAC,IAAD,CAAV,CACA,MAAOd,QAAO,CAACU,IAAD,CAAd,CACH,CAHD,CAKA,GAAMgB,SAAQ,CAAG,CACblB,IAAI,CAAJA,IADa,CAEbQ,MAAM,CAANA,MAFa,CAGbH,OAAO,CAAPA,OAHa,CAIbO,UAAU,CAAVA,UAJa,CAKbK,MAAM,CAANA,MALa,CAMbN,YAAY,CAAZA,YANa,CAObI,MAAM,CAANA,MAPa,CAQbX,cAAc,CAAdA,cARa,CASbD,WAAW,CAAXA,WATa,CAAjB,CAWA,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEe,QAA7B,UACKnB,QADL,EADJ,CAKH,CA/DD,CAiEA,cAAeD,YAAf"},"metadata":{},"sourceType":"module"}