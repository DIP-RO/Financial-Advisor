{"ast":null,"code":"import _slicedToArray from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import ReactDatePicker from'react-datepicker';import'./Book.css';import\"react-datepicker/dist/react-datepicker.css\";import toast from'react-hot-toast';import{Link,useNavigate}from'react-router-dom';import{useContext}from'react';import{AuthContext}from'../../Context/AuthContext/UserContext';import{Elements}from'@stripe/react-stripe-js';import CheckOutForm from'./CheckOutForm';import{loadStripe}from'@stripe/stripe-js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Book=function Book(){var _useContext=useContext(AuthContext),user=_useContext.user;var stripePromise=loadStripe(process.env.REACT_APP_STRIPE_PK);console.log(user.email);var data=localStorage.getItem('room-detail');var roomDetails=JSON.parse(data);var image=roomDetails.image,des=roomDetails.des,price=roomDetails.price,name=roomDetails.name,_id=roomDetails._id;var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),checkindate=_useState2[0],setcheckindate=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),checkOutDate=_useState4[0],setCheckOutDate=_useState4[1];var handleClick=function handleClick(id){var bookedRoomData={checkin:checkindate,checkout:checkOutDate,email:user.email,room:roomDetails};fetch('https://hotel-web-server.vercel.app/orders',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(bookedRoomData)}).then(function(res){return res.json();}).then(function(data){// console.log(data);\nnavigate('/dashboard/booking');toast.success('Your Room has been Booked Please Check Your Email');});// localStorage.setItem('bookedRomm', JSON.stringify(bookedRoomData))\n};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-900 p-5 md:p-20 \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justfy-start md:justify-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{style:{width:'500px'},className:\"rounded-lg\",src:image,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl text-gray-200 font-bold\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 w-80\",children:des}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-white\",children:[\"Price:$\",price]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-2 md:px-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold\",children:\"Book Your Room\"}),/*#__PURE__*/_jsxs(\"div\",{className:\" justify-around\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mr-4 my-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Check In\"}),/*#__PURE__*/_jsx(ReactDatePicker,{selected:checkindate,onChange:function onChange(date){return setcheckindate(date);},className:\"rounded p-2 text-gray-700 font-semibold\",dateFormat:\"dd/MM/yyy\",minDate:new Date()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded my-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Check Out\"}),/*#__PURE__*/_jsx(ReactDatePicker,{selected:checkOutDate,className:\"rounded p-2 text-gray-700 font-semibold\",onChange:function onChange(date){return setCheckOutDate(date);},dateFormat:\"dd/MM/yyy\",minDate:new Date()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded my-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Guests\"}),/*#__PURE__*/_jsx(\"input\",{min:\"0\",max:\"5\",className:\"rounded p-2 text-gray-700 font-semibold\",type:\"number\",name:\"\",id:\"\"})]})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return handleClick(_id);},className:\"px-8 py-3  my-4 font-semibold border rounded hover:bg-slate-50 hover:text-gray-800 border-gray-100 text-gray-100\",children:\"Confirm Book\"})]})]})});};export default Book;","map":{"version":3,"names":["React","useState","ReactDatePicker","toast","Link","useNavigate","useContext","AuthContext","Elements","CheckOutForm","loadStripe","Book","user","stripePromise","process","env","REACT_APP_STRIPE_PK","console","log","email","data","localStorage","getItem","roomDetails","JSON","parse","image","des","price","name","_id","navigate","checkindate","setcheckindate","checkOutDate","setCheckOutDate","handleClick","id","bookedRoomData","checkin","checkout","room","fetch","method","headers","body","stringify","then","res","json","success","width","date","Date"],"sources":["F:/sunshine-full-project/agustine-hotel--main/src/Components/Book/Book.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport ReactDatePicker from 'react-datepicker';\nimport './Book.css'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport toast from 'react-hot-toast';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useContext } from 'react';\nimport { AuthContext } from '../../Context/AuthContext/UserContext';\nimport { Elements } from '@stripe/react-stripe-js';\nimport CheckOutForm from './CheckOutForm';\nimport { loadStripe } from '@stripe/stripe-js';\n\n\nconst Book = () => {\n    const { user } = useContext(AuthContext)\n    const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PK);\n\n    console.log(user.email);\n    const data = localStorage.getItem('room-detail')\n    const roomDetails = JSON.parse(data)\n    const { image, des, price, name, _id } = roomDetails\n    const navigate = useNavigate()\n    const [checkindate, setcheckindate] = useState(null)\n    const [checkOutDate, setCheckOutDate] = useState(null)\n\n\n\n    const handleClick = (id) => {\n        const bookedRoomData = {\n            checkin: checkindate,\n            checkout: checkOutDate,\n            email: user.email,\n            room: roomDetails,\n        }\n        fetch('https://hotel-web-server.vercel.app/orders', {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(bookedRoomData)\n\n        })\n            .then(res => res.json())\n            .then(data => {\n                // console.log(data);\n                navigate('/dashboard/booking')\n                toast.success('Your Room has been Booked Please Check Your Email')\n            })\n\n        // localStorage.setItem('bookedRomm', JSON.stringify(bookedRoomData))\n    }\n\n    return (\n        <div className='bg-slate-900 p-5 md:p-20 '>\n\n            <div className='flex flex-col md:flex-row justfy-start md:justify-center'>\n                <div>\n                    <img style={{ width: '500px' }} className='rounded-lg' src={image} alt=\"\" />\n                    <div>\n                        <h2 className=\"text-3xl text-gray-200 font-bold\">{name}</h2>\n                        <p className='text-gray-400 w-80'>{des}</p>\n                        <p className='font-semibold text-white'>Price:${price}</p>\n                    </div>\n                </div>\n                <div className='px-2 md:px-10'>\n\n                    <h2 className='text-3xl font-bold'>Book Your Room</h2>\n                    <div className=' justify-around'>\n                        <div className='mr-4 my-4'>\n                            <p className='font-semibold'>Check In</p>\n                            <ReactDatePicker\n                                selected={checkindate}\n\n                                onChange={date => setcheckindate(date)}\n                                className='rounded p-2 text-gray-700 font-semibold'\n                                dateFormat='dd/MM/yyy'\n                                minDate={new Date()}\n\n                            ></ReactDatePicker>\n                        </div>\n                        <div className='rounded my-4'>\n                            <p className='font-semibold'>Check Out</p>\n                            <ReactDatePicker\n                                selected={checkOutDate}\n                                className='rounded p-2 text-gray-700 font-semibold'\n                                onChange={date => setCheckOutDate(date)}\n                                dateFormat='dd/MM/yyy'\n                                minDate={new Date()}\n                            ></ReactDatePicker>\n                        </div>\n                        <div className='rounded my-4'>\n                            <p className='font-semibold'>Guests</p>\n                            <input min=\"0\" max=\"5\" className='rounded p-2 text-gray-700 font-semibold' type=\"number\" name=\"\" id=\"\" />\n                        </div>\n\n                    </div>\n\n                    <div>\n                        {/* <Elements stripe={stripePromise}>\n                            <CheckOutForm\n                                checkindate={checkindate}\n                                checkOutDate={checkOutDate}\n                                roomDetails={roomDetails} />\n                        </Elements> */}\n                    </div>\n\n                    <button type=\"button\" onClick={() => handleClick(_id)} className=\"px-8 py-3  my-4 font-semibold border rounded hover:bg-slate-50 hover:text-gray-800 border-gray-100 text-gray-100\">Confirm Book</button>\n\n                    {/* <button type=\"button\" className=\"px-8 py-3  my-4 font-semibold border rounded hover:bg-slate-50 hover:text-gray-800 border-gray-100 text-gray-100\">Option</button> */}\n\n\n                </div>\n            </div>\n\n        </div>\n    );\n};\n\nexport default Book;"],"mappings":"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"},"metadata":{},"sourceType":"module"}