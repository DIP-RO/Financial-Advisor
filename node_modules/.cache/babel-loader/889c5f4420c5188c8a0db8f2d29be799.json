{"ast":null,"code":"import _slicedToArray from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useContext}from\"react\";import toast from\"react-hot-toast\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import PropagateLoader from\"react-spinners/PropagateLoader\";import{AuthContext}from\"../../Context/AuthContext/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LoginPage=function LoginPage(){var _location$state,_location$state$from;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useContext=useContext(AuthContext),signIn=_useContext.signIn,googleSginIn=_useContext.googleSginIn;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),animation=_useState4[0],setAnimation=_useState4[1];var location=useLocation();var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||\"/\";var navigate=useNavigate();var handleSubmit=function handleSubmit(e){e.preventDefault();var form=e.target;var email=form.email.value;var password=form.password.value;signIn(email,password).then(function(result){var user=result.user;console.log(user);form.reset();toast.success(\"Logined SuccessFully\");saveUser(user.displayName,user.email);setAnimation(true);}).catch(function(error){if(error.message===\"Firebase: Error (auth/wrong-password).\"){setError(\"Wrong Pass\");return;}else{setError(error.message);console.error(\"error\",error);}});};var handleGoogleSignIN=function handleGoogleSignIN(){googleSginIn().then(function(result){var user=result.user;var currentUser={email:user.email};console.log(currentUser);console.log(user);saveUser(user.displayName,user.email);setAnimation(true);}).catch(function(error){console.log(\"error\",error);});};var saveUser=function saveUser(name,email){console.log(name,email);var user={name:name,email:email};fetch(\"https://hotel-web-server.vercel.app/user/\".concat(email),{method:\"PUT\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(user)}).then(function(res){return res.json();}).then(function(data){if(data.status===\"success\"){console.log(data);localStorage.setItem(\"Radission BluToken\",data.data);setTimeout(function(){navigate(from,{replace:true});},300);}});};return/*#__PURE__*/_jsx(\"div\",{className:\"flex md:px-0 px-5 justify-center bg-slate-900\",children:animation?/*#__PURE__*/_jsx(\"div\",{className:\"h-[600px] flex justify-center items-center\",children:/*#__PURE__*/_jsx(PropagateLoader,{color:\"#ffffff\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 space-y-3 shadow-lg my-10 rounded-xl bg-gray-800 text-gray-100\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-center\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,noValidate:\"\",action:\"\",className:\"space-y-6 ng-untouched ng-pristine ng-valid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-gray-400\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"email\",id:\"username\",placeholder:\"Email\",className:\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-gray-400\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",name:\"password\",id:\"password\",placeholder:\"Password\",className:\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end text-xs text-gray-400\",children:/*#__PURE__*/_jsx(\"a\",{rel:\"noopener noreferrer\",href:\"/\",children:\"Forgot Password?\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-500\",children:[\" \",error]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"block w-full p-3 text-center rounded-sm text-white font-semibold bg-violet-600\",children:\"Sign in\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center pt-4 space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-px sm:w-16 bg-gray-700\"}),/*#__PURE__*/_jsx(\"p\",{className:\"px-3 text-sm text-gray-400\",children:\"Login with social accounts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-px sm:w-16 bg-gray-700\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center space-x-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleGoogleSignIN,\"aria-label\":\"Log in with Google\",className:\"p-3 rounded-sm\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 32 32\",className:\"w-5 h-5 fill-current\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M16.318 13.714v5.484h9.078c-0.37 2.354-2.745 6.901-9.078 6.901-5.458 0-9.917-4.521-9.917-10.099s4.458-10.099 9.917-10.099c3.109 0 5.193 1.318 6.38 2.464l4.339-4.182c-2.786-2.599-6.396-4.182-10.719-4.182-8.844 0-16 7.151-16 16s7.156 16 16 16c9.234 0 15.365-6.49 15.365-15.635 0-1.052-0.115-1.854-0.255-2.651z\"})})})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-center sm:px-6 text-gray-400\",children:[\"Do not Have An Account?\",/*#__PURE__*/_jsx(Link,{rel:\"noopener noreferrer\",to:\"/register\",className:\"underline text-gray-100\",children:\"Register\"})]})]})})});};export default LoginPage;","map":{"version":3,"names":["React","useState","useContext","toast","Link","useLocation","useNavigate","PropagateLoader","AuthContext","LoginPage","error","setError","signIn","googleSginIn","animation","setAnimation","location","from","state","pathname","navigate","handleSubmit","e","preventDefault","form","target","email","value","password","then","result","user","console","log","reset","success","saveUser","displayName","catch","message","handleGoogleSignIN","currentUser","name","fetch","method","headers","body","JSON","stringify","res","json","data","status","localStorage","setItem","setTimeout","replace"],"sources":["F:/sunshine-full-project/agustine-hotel--main/src/Components/LoginPage/LoginPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useContext } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport PropagateLoader from \"react-spinners/PropagateLoader\";\nimport { AuthContext } from \"../../Context/AuthContext/UserContext\";\n\nconst LoginPage = () => {\n  const [error, setError] = useState(null);\n  const { signIn, googleSginIn } = useContext(AuthContext);\n  const [animation, setAnimation] = useState(false);\n\n  const location = useLocation();\n  const from = location.state?.from?.pathname || \"/\";\n\n  const navigate = useNavigate();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const form = e.target;\n    const email = form.email.value;\n    const password = form.password.value;\n    signIn(email, password)\n      .then((result) => {\n        const user = result.user;\n        console.log(user);\n        form.reset();\n        toast.success(\"Logined SuccessFully\");\n        saveUser(user.displayName, user.email);\n        setAnimation(true);\n      })\n      .catch((error) => {\n        if (error.message === \"Firebase: Error (auth/wrong-password).\") {\n          setError(\"Wrong Pass\");\n          return;\n        } else {\n          setError(error.message);\n          console.error(\"error\", error);\n        }\n      });\n  };\n  const handleGoogleSignIN = () => {\n    googleSginIn()\n      .then((result) => {\n        const user = result.user;\n        const currentUser = {\n          email: user.email,\n        };\n        console.log(currentUser);\n        console.log(user);\n        saveUser(user.displayName, user.email);\n        setAnimation(true);\n      })\n      .catch((error) => {\n        console.log(\"error\", error);\n      });\n  };\n\n  const saveUser = (name, email) => {\n    console.log(name, email);\n    const user = {\n      name,\n      email,\n    };\n    fetch(`https://hotel-web-server.vercel.app/user/${email}`, {\n      method: \"PUT\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(user),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.status === \"success\") {\n          console.log(data);\n          localStorage.setItem(\"Radission BluToken\", data.data);\n          setTimeout(() => {\n            navigate(from, { replace: true });\n          }, 300);\n        }\n      });\n  };\n\n  return (\n    <div className=\"flex md:px-0 px-5 justify-center bg-slate-900\">\n      {animation ? (\n        <div className=\"h-[600px] flex justify-center items-center\">\n          <PropagateLoader color=\"#ffffff\" />\n        </div>\n      ) : (\n        <>\n          <div className=\"w-full max-w-md p-8 space-y-3 shadow-lg my-10 rounded-xl bg-gray-800 text-gray-100\">\n            <h1 className=\"text-2xl font-bold text-center\">Login</h1>\n            <form\n              onSubmit={handleSubmit}\n              noValidate=\"\"\n              action=\"\"\n              className=\"space-y-6 ng-untouched ng-pristine ng-valid\"\n            >\n              <div className=\"space-y-1 text-sm\">\n                <label htmlFor=\"email\" className=\"block text-gray-400\">\n                  Email\n                </label>\n                <input\n                  required\n                  type=\"text\"\n                  name=\"email\"\n                  id=\"username\"\n                  placeholder=\"Email\"\n                  className=\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"\n                />\n              </div>\n              <div className=\"space-y-1 text-sm\">\n                <label htmlFor=\"password\" className=\"block text-gray-400\">\n                  Password\n                </label>\n                <input\n                  required\n                  type=\"password\"\n                  name=\"password\"\n                  id=\"password\"\n                  placeholder=\"Password\"\n                  className=\"w-full px-4 py-3 rounded-md border-gray-700 bg-gray-900 text-gray-100 focus:border-violet-400\"\n                />\n                <div className=\"flex justify-end text-xs text-gray-400\">\n                  <a rel=\"noopener noreferrer\" href=\"/\">\n                    Forgot Password?\n                  </a>\n                </div>\n              </div>\n              <p className=\"text-red-500\"> {error}</p>\n              <button\n                type=\"submit\"\n                className=\"block w-full p-3 text-center rounded-sm text-white font-semibold bg-violet-600\"\n              >\n                Sign in\n              </button>\n            </form>\n            <div className=\"flex items-center pt-4 space-x-1\">\n              <div className=\"flex-1 h-px sm:w-16 bg-gray-700\"></div>\n              <p className=\"px-3 text-sm text-gray-400\">\n                Login with social accounts\n              </p>\n              <div className=\"flex-1 h-px sm:w-16 bg-gray-700\"></div>\n            </div>\n\n            <div className=\"flex justify-center space-x-4\">\n              <button\n                onClick={handleGoogleSignIN}\n                aria-label=\"Log in with Google\"\n                className=\"p-3 rounded-sm\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 32 32\"\n                  className=\"w-5 h-5 fill-current\"\n                >\n                  <path d=\"M16.318 13.714v5.484h9.078c-0.37 2.354-2.745 6.901-9.078 6.901-5.458 0-9.917-4.521-9.917-10.099s4.458-10.099 9.917-10.099c3.109 0 5.193 1.318 6.38 2.464l4.339-4.182c-2.786-2.599-6.396-4.182-10.719-4.182-8.844 0-16 7.151-16 16s7.156 16 16 16c9.234 0 15.365-6.49 15.365-15.635 0-1.052-0.115-1.854-0.255-2.651z\"></path>\n                </svg>\n              </button>\n            </div>\n            <p className=\"text-xs text-center sm:px-6 text-gray-400\">\n              Do not Have An Account?\n              <Link\n                rel=\"noopener noreferrer\"\n                to=\"/register\"\n                className=\"underline text-gray-100\"\n              >\n                Register\n              </Link>\n            </p>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}