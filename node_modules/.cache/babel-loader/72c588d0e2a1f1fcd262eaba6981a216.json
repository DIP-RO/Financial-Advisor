{"ast":null,"code":"import _slicedToArray from\"F:/sunshine-full-project/agustine-hotel--main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import toast from'react-hot-toast';import RoomSmallCard from'../Admin/RoomCard/RoomSmallCard';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var AllRooms=function AllRooms(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];useEffect(function(){fetch('https://hotel-web-server.vercel.app/room').then(function(res){return res.json();}).then(function(data){return setRooms(data.rooms);});},[rooms]);var handleForm=function handleForm(e){e.preventDefault();var form=e.target;var name=form.title.value;var price=form.price.value;var image=form.url.value;var capacity=form.capacity.value;var des=form.des.value;var roomDetails={name:name,price:price,image:image,capacity:capacity,des:des};console.log(roomDetails);fetch('https://hotel-web-server.vercel.app/room',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(roomDetails)}).then(function(res){return res.json();}).then(function(data){if(data.acknowledged){toast.success('Room Added Success Fully');form.reset();}});};var handleDelele=function handleDelele(room){var agree=window.confirm('Are You sure You want to delete');console.log(room._id);if(agree){fetch(\"https://hotel-web-server.vercel.app/room/\".concat(room._id),{method:'DELETE'}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.deletedCount>=0){toast.error('Room Deleted Success Fully');var remainingUser=rooms.filter(function(us){return us._id!==room._id;});setRooms(remainingUser);}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen w-full\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center my-4 text-3xl font-bold\",children:[\"Rooms:\",rooms.length]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-40\",children:rooms.map(function(room){return/*#__PURE__*/_jsx(RoomSmallCard,{room:room,handleDelele:handleDelele},room._id);})})]});};export default AllRooms;","map":{"version":3,"names":["React","useEffect","useState","toast","RoomSmallCard","AllRooms","rooms","setRooms","fetch","then","res","json","data","handleForm","e","preventDefault","form","target","name","title","value","price","image","url","capacity","des","roomDetails","console","log","method","headers","body","JSON","stringify","acknowledged","success","reset","handleDelele","room","agree","window","confirm","_id","deletedCount","error","remainingUser","filter","us","length","map"],"sources":["F:/sunshine-full-project/agustine-hotel--main/src/Components/Dashboard/AllRooms.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport RoomSmallCard from '../Admin/RoomCard/RoomSmallCard';\n\nconst AllRooms = () => {\n\n    const [rooms, setRooms] = useState([])\n\n    useEffect(() => {\n        fetch('https://hotel-web-server.vercel.app/room')\n            .then(res => res.json())\n            .then(data => setRooms(data.rooms))\n    }, [rooms])\n\n    const handleForm = e => {\n        e.preventDefault()\n        const form = e.target;\n        const name = form.title.value;\n        const price = form.price.value;\n        const image = form.url.value;\n        const capacity = form.capacity.value;\n        const des = form.des.value;\n\n        const roomDetails = {\n            name,\n            price,\n            image,\n            capacity,\n            des\n        }\n        console.log(roomDetails);\n\n        fetch('https://hotel-web-server.vercel.app/room', {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(roomDetails)\n        })\n            .then(res => res.json())\n            .then(data => {\n                if (data.acknowledged) {\n                    toast.success('Room Added Success Fully')\n                    form.reset()\n                }\n            })\n\n    }\n\n\n    const handleDelele = (room) => {\n        const agree = window.confirm('Are You sure You want to delete')\n        console.log(room._id);\n        if (agree) {\n            fetch(`https://hotel-web-server.vercel.app/room/${room._id}`, {\n                method: 'DELETE',\n            })\n                .then(res => res.json())\n                .then(data => {\n                    console.log(data);\n                    if (data.deletedCount >= 0) {\n                        toast.error('Room Deleted Success Fully')\n                        const remainingUser = rooms\n                            .filter(us => us._id !== room._id)\n                        setRooms(remainingUser)\n                    }\n                })\n        }\n\n    }\n\n\n    return (\n        <div className='h-screen w-full'>\n              <h1 className='text-center my-4 text-3xl font-bold'>Rooms:{rooms.length}</h1>\n                    <div className='px-40'>\n                        {\n                            rooms.map(room => <RoomSmallCard\n                                key={room._id}\n                                room={room}\n                                handleDelele={handleDelele}\n                            ></RoomSmallCard>)\n                        }\n                    </div>\n        </div>\n    );\n};\n\nexport default AllRooms;"],"mappings":"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"},"metadata":{},"sourceType":"module"}